<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <title>FaSe+ | An Improved Faux Sequence Mutator</title>
  <meta property="og:title" content="FaSe | Faux Sequence Mutator">
  <meta property="description" content="Fase simulates molecular evolution by mutating nucleic acid or protein sequences to a user specified percent divergence.">
  <meta property="og:description" content="Fase simulates molecular evolution by mutating nucleic acid or protein sequences to a user specified percent divergence.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bio-sims.github.io/fase/">
  <meta property="theme-color" content="#a836ff">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=500, initial-scale=1">
  <!-- fonts and css -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="css/style.css">
  <link rel="stylesheet" type="text/css" href="css/modal.css">
  <!-- following script will execute after the page has loaded -->
  <script type="module" src="js/main.js"></script>
  <script type="module" src="js/filemodal.js"></script>
</head>
<body>
  <h1 style="display: none;">FaSe+ | An Improved Faux Sequence Mutator</h1>
  <nav>
    <ul>
      <li class="nav-link">
        <h1><a href="./">FaSe+</a></h1>
      </li>
    </ul>
    <div id="nav-center">
      <div class="merged-button-group">
        <button class="icon-button" data-toggles-modal="faq-modal">
          <svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M17 20H4V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1"></path>
            <path fill="currentColor" d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-5.99 13c-.59 0-1.05-.47-1.05-1.05 0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04-.01.58-.45 1.05-1.04 1.05m2.5-6.17c-.63.93-1.23 1.21-1.56 1.81-.08.14-.13.26-.16.49-.05.39-.36.68-.75.68h-.03c-.44 0-.79-.38-.75-.82.03-.28.09-.57.25-.84.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.61 0-1.01.32-1.26.7-.19.29-.57.39-.89.25-.42-.18-.6-.7-.34-1.07.51-.74 1.36-1.29 2.48-1.29 1.23 0 2.08.56 2.51 1.26.37.61.58 1.73.01 2.57"></path>
          </svg>
          FAQ
        </button>
        <button class="icon-button dropdown-button" id="export-button">
          <svg viewBox="0 0 24 24">
            <path fill="currentColor" d="m16 5-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2"></path>
          </svg>
          Export
        </button>
        <button class="icon-button" id="main-fullscreen-button">
          <svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1m0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1m11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1"></path>
          </svg>
        </button>
      </div>
    </div>
    <ul>
      <li class="right-align">
        <button class="svg-button" id="theme-toggle">
          <svg viewBox="0 0 24 24">
              <path id="theme-icon-path" d="" stroke-width="0.1" fill="currentColor" stroke="currentColor"></path>
          </svg>
        </button>
      </li>
    </ul>
  </nav>
  <div class="modal-container" id="faq-modal">
    <article class="modal">
      <h1 style="display: none;">FAQ</h1>
      <header class="modal-header">
        <h2>FAQ</h2>
        <button class="icon-button" data-toggles-modal="faq-modal">
          <svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path>
          </svg>
        </button>
      </header>
      <div class="modal-content">
        <h3>1. What is FaSe?</h3>
        <p>FaSe is short for Fake Sequencer, simulating molecular evolution by mutating nucleic acid or protein sequences to a user specified percent divergence.</p>
        <h3>2. What is "Divergence Percentage"?</h3>
        <p>The divergence percentage determines the mutation count in the most mutated sequence in a generation. It refers to  the length of the sequence, meaning a 10% divergence will allow up to 10% of the sequence to be mutated.</p>
        <h3>3. What is "Maximum Children Per Parent"?</h3>
        <p>The maximum children determine the upper bound on how many sequences can be created from a parent sequence (chosen randomly for each parent between zero and this upper bound).</p>
        <h3>4. What is “Generation Type”?</h3>
        <p>The generation type essentially determines the method of how the sequences generated will be related to each other.</p>
        <h3>A Geneticist's Pipeline</h3>
        <h4>Step 1: Gather genetic data</h4>
        <p>A geneticist would gather the sequences from similar loci of different specimens they wish to genetically compare, either living or preserved.</p>
        <h4>Step 2: Align all known codes</h4>
        <p>Using a Multiple Sequence Alignment (MSA) such as Clustal Omega or MUSCLE they would arrange the sequences so that they are most similar.</p>
        <h4>Step 3: Create a phylogenetic tree</h4>
        <p>Either by hand or through digital tools such as MEGA, a phylogenetic tree with the greatest parsimony would be created, mapping a "best guess" of what we know about their phylogenetic relationships.</p>
        <h4>Step 4: Acknowledge that hypothesis may diverge from evolutionary history</h4>
        <p>While not a realistic step in the geneticist's pipeline, a scientist should always be aware that what we discover is always a best guess, as shown when comparing the phylogenetic tree from the FaSe+ tree.</p>
      </div>
    </article>
  </div>
  <main class="card-container">
    <div class="card-panel card-panel--side" id="side-panel">
      <section class="card card--side">
        <div class="card-content">
          <h2>Configuration</h2>
          <form id="mutate-form">
            <div class="input-group">
              <div class="input-group-half">
                  <label for="sequence">Sequence</label>
              </div>
              <div class="input-group-half">
                  <textarea id="sequence" name="sequence" required></textarea>
              </div>
            </div>
            <div class="input-group range">
              <div class="input-group-half">
                  <label for="divergence-percentage">Divergence Percentage</label>
              </div>
              <div class="input-group-half">
                  <div class="range-group">
                      <input type="range" id="divergence-percentage" name="divergence-percentage" min="0" max="1" step="0.001" value="0.1">
                      <input class="small" type="number" id="divergence-percentage-value" name="divergence-percentage-value" min="0" max="1" step="0.001" value="0.1" required>
                  </div>
              </div>
            </div>
            <div class="input-group">
              <div class="input-group-half">
                  <label for="max-children">Maximum Children Per Parent</label>
              </div>
              <div class="input-group-half right-align">
                  <input class="small" type="number" id="max-children" name="max-children" min="0" step="1" value="1" required>
              </div>
            </div>
            <button type="submit" id="mutate-button">Mutate</button>
            <div id="alignment-controls" style="display: none;">
            </div>   
          </form>
        </div>     
      </section>  
    </div>
    <div class="card-separator" data-horizontal data-previous="side-panel" data-next="main-panel"></div>
    <div class="card-panel card-panel--main" id="main-panel">
      <section class="card" id="mutation-card">

        <div class="card-content">
          <div id="no-data-message">No data to display</div>
          <div class="grid-outputs">
            <div class="output-box" id="fasta-output-container">
              <h2>Leaf Sequences</h2>
              <pre id="fastaOutput"></pre>
            </div>
            <div class="output-box" id="mutation-content">
              <h2>Aligned Sequences</h2>
              <pre id="mutation-list"></pre>
            </div>
            <div class="output-box" id="phylotree-box">
              <h2>Phylogenetic Tree</h2>
              <div id="phylotree"></div>
            </div>
            <div class="output-box" id="fase-box">
              <h2>Mutation Tree (FASE)</h2>
              <div id="mutation-tree"></div>
            </div>
          </div>
        </div>        
      </section>
    </div>
  </main>
</body>
</html>
